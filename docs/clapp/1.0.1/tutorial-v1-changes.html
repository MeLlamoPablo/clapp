<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: v1-changes - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a><ul class='methods'><li data-type='method'><a href="App.html#addCommand">addCommand</a></li><li data-type='method'><a href="App.html#isCliSentence">isCliSentence</a></li><li data-type='method'><a href="App.html#parseInput">parseInput</a></li></ul></li><li><a href="Command.html">Command</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-Defining-the-command-function.html">Defining-the-command-function</a></li><li><a href="tutorial-Overriding-the-default-help-generators.html">Overriding-the-default-help-generators</a></li><li><a href="tutorial-Working-with-contexts.html">Working-with-contexts</a></li><li><a href="tutorial-v1-changes.html">v1-changes</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">Tutorial: v1-changes</h1>
    

    <section>

<header>
    

    <h2>v1-changes</h2>
</header>

<article>
    <h1>v1.0.0 changes</h1><h2>Major changes</h2><h4>API changes</h4><p>The API has changed to a more organized one. Previously, the API was quite illogical:</p>
<pre class="prettyprint source lang-javascript"><code>// App constructor:
new Clapp.App(options, onReply, commands)

// Command constructor
new Clapp.Command(name, fn, desc, arguments, flags, async)</code></pre><p>The <code>App</code> constructor had the <code>onReply</code> and <code>commands</code> parameters outside of the options object. 
The <code>Command</code> constructor didn't have an options object at all, and instead had many parameters 
in a seemingly arbitrary order. Both constructor have been changed to only take one parameter, 
the options object:</p>
<pre class="prettyprint source lang-javascript"><code>// App constructor:
new Clapp.App(options)

// Command constructor
new Clapp.Command(options)</code></pre><p>Please refer to their respective documentation (<a href="App.html">App</a> and <a href="Command.html">Command</a>) to see what 
options are available.</p>
<h4>Introduced validations</h4><p>This version introduces validations, an easy way to sanitize your inputs. Validations are checks 
that are performed on the user input before the command is executed. If any validation isn't 
passed, the command isn't executed and instead Clapp lets the user know about the problem.</p>
<p>For example, if you need a parameter to be an email, you could use a validation:</p>
<pre class="prettyprint source lang-javascript"><code>// email argument
var email = {
    name: &quot;email&quot;,
    desc: &quot;The user's email&quot;,
    type: &quot;string&quot;,
    required: true,
    validations: [
        {
            errorMessage: &quot;This argument must be a valid email.&quot;,
            validate: function(value) {
                return value.match(/\A[^@]+@[^@]+\z/) ? true : false;
            }
        }
    ]
}</code></pre><p>You can write as many validations you want for the same argument or flag. The only requirement is
 that your validations return a boolean value. For more information, see <a href="global.html#validation">validation</a>.</p>
<h2>Minor changes</h2><h4>Passing non-cli sentences to parseInput is no longer allowed</h4><p>Previously you could do <code>parseInput('blah blah blah')</code> (assuming that &quot;blah&quot; is not your app's 
prefix). Clapp would log a warning to the console and move on. Now, Clapp will throw an error. 
Make sure to validate all your user input with <a href="App.html#isCliSentence">isCliSentence</a> before 
using <code>parseInput()</code>.</p>
<h4>Ditching undefined</h4><p>Clapp always recommends to set default values for flags. Previously, if you didn't provide a 
default value for a flag, you'd get <code>undefined</code>, if the user didn't give a value themselves. Now,
 you'll get <code>null</code> instead. While this is a minor change, it could break your code.</p>
</article>

</section>

</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Mon Nov 21 2016 19:27:29 GMT+0100 (CET) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>