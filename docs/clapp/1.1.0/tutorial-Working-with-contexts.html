<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: Working-with-contexts - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a><ul class='methods'><li data-type='method'><a href="App.html#addCommand">addCommand</a></li><li data-type='method'><a href="App.html#isCliSentence">isCliSentence</a></li><li data-type='method'><a href="App.html#parseInput">parseInput</a></li></ul></li><li><a href="Argument.html">Argument</a></li><li><a href="Command.html">Command</a></li><li><a href="Option.html">Option</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-Changelog.html">Changelog</a></li><li><a href="tutorial-Defining-the-command-function.html">Defining-the-command-function</a></li><li><a href="tutorial-Overriding-the-default-help-generators.html">Overriding-the-default-help-generators</a></li><li><a href="tutorial-Working-with-contexts.html">Working-with-contexts</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">Tutorial: Working-with-contexts</h1>
    

    <section>

<header>
    

    <h2>Working-with-contexts</h2>
</header>

<article>
    <h1>Working with contexts</h1><p>When defining more advanced commands, there are scenarios where you may need to pass information to the command, or to the <code>onReply</code> output. For instance, if you're using Clapp to run a <a href="http://discordapp.com">Discord</a> bot, multiple users will have access to each command. But some commands might be reserved for users with elevated privileges, and thus, you will want to validate whether the user has enough privileges to execute the command.</p>
<p>Clapp provides the <code>context</code> interface to pass data to both the command and the <code>onReply</code> function. Let's take the basic example from the documentation:</p>
<pre class="prettyprint source lang-javascript"><code>var foo = new Clapp.Command(
    'foo',
    function(argv, context) {
        console.log(context);
    }
);

var myApp = new Clapp.App(
    {
        name: 'Test App',
        desc: 'An app created with Clapp!',
        prefix: '/testapp'
    },
    function(msg, context) {
        // Called when the App shows an output
        console.log(msg);
    },
    [foo]
);</code></pre><p>You'll notice the <code>context</code> param in your provided functions. The context is <em>anything</em> you want it to be. A string, a boolean, an object containing every useful info you need... You name it. You can pass the context to <code>parseInput</code>:</p>
<pre class="prettyprint source lang-javascript"><code>app.parseInput('/testapp foo', user.hasElevatedPrivileges());</code></pre><p>When <code>foo</code> is executed, you get it back:</p>
<pre class="prettyprint source lang-javascript"><code>// foo
function(argv, context) {
    console.log(context); // Logs result of user.hasElevatedPrivileges()
}</code></pre>
</article>

</section>

</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Nov 30 2016 20:27:32 GMT+0100 (CET) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>